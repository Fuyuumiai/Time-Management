(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-summary-index"],{"22ea":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uNavbar:a("bf10").default,uGap:a("739b").default,uniCalendar:a("bb17").default,uSection:a("8989").default,uCollapse:a("2eaa").default,uCollapseItem:a("9105").default,uTag:a("27be").default,uEmpty:a("bb9d").default,uButton:a("26dd").default,uToast:a("0314").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wrap"},[a("u-navbar",{attrs:{background:{backgroundColor:"#ffffff"},"title-color":"#303133","title-size":"30","border-bottom":!1,title:"历史总结"}}),a("u-gap",{attrs:{height:"12","bg-color":"#fafafa"}}),a("uni-calendar",{attrs:{insert:!0,"start-date":t.startDate,"end-date":t.today},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}}),a("u-gap",{attrs:{height:"12","bg-color":"#fafafa"}}),t.sign?a("v-uni-view",{staticClass:"content"},[a("u-section",{attrs:{title:"总结信息","sub-title":"前往修改","show-line":!1,"font-size":"30"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routeTo("summary/submit",{edit:1,date:t.date,summary:JSON.stringify(t.summary)})}}}),a("v-uni-view",{staticClass:"card",staticStyle:{"margin-top":"30rpx"}},[a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"line-item"},[a("v-uni-text",{staticClass:"item-tip"},[t._v("自我评分：")]),a("v-uni-text",{staticClass:"item-text"},[t._v(t._s(t.summary.fraction))])],1)],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"line-item"},[a("v-uni-text",{staticClass:"item-tip"},[t._v("文字总结：")]),a("v-uni-text",{staticClass:"item-text"},[t._v(t._s(t.summary.content))])],1)],1)],1),a("v-uni-view",{staticClass:"card"},[a("u-collapse",{ref:"taskColl"},[a("u-collapse-item",{attrs:{title:"完成任务",open:!0}},[a("v-uni-view",{staticClass:"list"},t._l(t.summary.taskArray,(function(e,i){return a("v-uni-view",{key:i},[e.checked?a("v-uni-view",{staticClass:"list-item list-active-item"},[a("v-uni-text",[t._v(t._s(e.title))])],1):t._e()],1)})),1)],1)],1)],1),a("v-uni-view",{staticClass:"card"},[a("u-collapse",{ref:"targetColl"},[a("u-collapse-item",{attrs:{title:"目标完成量",open:!0}},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tip"},[a("v-uni-text",[t._v("该列表包含长期计划当日完成量")])],1),a("v-uni-view",{staticClass:"record"},t._l(t.summary.targetArray,(function(e,i){return a("v-uni-view",{key:i,staticClass:"record-item"},[a("v-uni-view",{staticClass:"text"},[0===e.numType?a("u-tag",{attrs:{text:"每日执行",mode:"dark",type:"warning",size:"mini"}}):a("u-tag",{attrs:{text:"长期计划",mode:"dark",type:"success",size:"mini"}}),a("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))])],1),a("v-uni-view",{staticClass:"num"},[a("v-uni-view",{staticClass:"add"},[a("v-uni-text",{staticClass:"tip"},[t._v("+")]),a("v-uni-text",{staticClass:"val"},[t._v(t._s(e.addNum))]),a("v-uni-text",{staticClass:"tip"},[t._v(t._s(e.unit))])],1)],1)],1)})),1)],1)],1)],1)],1)],1):a("v-uni-view",{staticClass:"null-box"},[a("u-empty",{attrs:{text:"当日未进行总结~",mode:"favor","icon-size":"300",src:"../../static/img/null/summary-null.png"}}),t.date===t.today?a("u-button",{attrs:{size:"medium",hairLine:!1,type:"success",shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSubmit.apply(void 0,arguments)}}},[t._v("签 到")]):a("u-button",{attrs:{size:"medium",hairLine:!1,type:"success",shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routeTo("summary/submit",{edit:1,date:t.date,summary:JSON.stringify(t.summary)})}}},[t._v("签 到")])],1),a("u-toast",{ref:"uToast"})],1)},n=[]},2662:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uIcon:a("d167").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-section"},[a("v-uni-view",{staticClass:"u-section__title",class:{"u-section--line":t.showLine},style:{fontWeight:t.bold?"bold":"normal",color:t.color,fontSize:t.fontSize+"rpx",paddingLeft:t.showLine?.7*t.fontSize+"rpx":0}},[t.showLine?a("v-uni-view",{staticClass:"u-section__title__icon-wrap u-flex",style:[t.lineStyle]},[a("u-icon",{attrs:{top:"0",name:"column-line",size:1.25*t.fontSize,bold:!0,color:t.lineColor?t.lineColor:t.color}})],1):t._e(),a("v-uni-text",{staticClass:"u-flex u-section__title__text"},[t._v(t._s(t.title))]),a("v-uni-text",{staticClass:"u-flex yui-text"},[t._v(t._s(t.info))])],1),t.right||t.$slots.right?a("v-uni-view",{staticClass:"u-section__right-info",style:{color:t.subColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rightClick.apply(void 0,arguments)}}},[t.$slots.right?t._t("right"):[t._v(t._s(t.subTitle)),t.arrow?a("v-uni-view",{staticClass:"u-section__right-info__icon-arrow u-flex"},[a("u-icon",{attrs:{name:"arrow-right",size:"24",color:t.subColor}})],1):t._e()]],2):t._e()],1)},n=[]},"27be":function(t,e,a){"use strict";a.r(e);var i=a("f057"),o=a("a5dc");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("d723");var r,s=a("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"7ced654a",null,!1,i["a"],r);e["default"]=d.exports},"2e93":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uView-ui css */\n/* 变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义css */\n/* 颜色 */\n/* 字体大小 */\n/* 投影 */\n/* 内边距 */.wrap[data-v-0a19daf0]{background-color:#fff;position:relative}.wrap .content[data-v-0a19daf0]{padding:%?30?% %?20?%}.wrap .null-box[data-v-0a19daf0]{width:100%;padding:%?20?% %?30?%;text-align:center}.card[data-v-0a19daf0]{width:100%;padding:%?30?% %?25?%;margin-bottom:%?25?%;background-color:#fff;border-radius:%?10?%;box-shadow:0 %?4?% %?10?% 0 rgba(0,0,0,.1)}.card .title[data-v-0a19daf0]{font-size:%?30?%;color:#303133;font-weight:700;margin-bottom:%?12?%}.card .line[data-v-0a19daf0]{display:flex;margin-bottom:%?20?%}.card .line-item[data-v-0a19daf0]{flex:1}.card .line-item .item-tip[data-v-0a19daf0]{color:#909399}.card .line-item .item-text[data-v-0a19daf0]{color:#303133;line-height:1.6}.card .line-item .item-icon[data-v-0a19daf0]{vertical-align:middle;margin-right:%?6?%}.card .line-item .item-label[data-v-0a19daf0]{color:#606266}.card .line[data-v-0a19daf0]:last-of-type{margin-bottom:%?0?%}.list[data-v-0a19daf0]{padding:0 %?10?%;margin-bottom:%?15?%}.list-tag[data-v-0a19daf0]{margin-bottom:%?6?%}.list-line[data-v-0a19daf0]{width:100%;padding:%?10?% 0;display:flex}.list-line-left[data-v-0a19daf0]{flex:3}.list-line-right[data-v-0a19daf0]{flex:3;display:flex;justify-content:flex-end}.list-line-num[data-v-0a19daf0]{flex:1;text-align:right}.list-tip[data-v-0a19daf0]{font-size:%?26?%;color:#909399}.list-item[data-v-0a19daf0]{width:100%;margin-top:%?20?%;background-color:#fff;padding:%?30?% %?26?%;border-radius:%?10?%;box-shadow:0 %?4?% %?12?% 0 rgba(0,0,0,.1);color:#303133;display:flex;flex-wrap:wrap;align-items:center}.list-item-text[data-v-0a19daf0]{flex:3}.list-item-box[data-v-0a19daf0]{flex:1}.list-active-item[data-v-0a19daf0]{background-color:#409eff;color:#fff}.record[data-v-0a19daf0]{padding-top:%?20?%}.record-item[data-v-0a19daf0]{width:100%;padding:%?30?% %?25?%;border-radius:%?10?%;margin-bottom:%?30?%;box-shadow:0 %?4?% %?10?% 0 rgba(0,0,0,.1);background-color:#fff;display:flex}.record-item .text[data-v-0a19daf0]{flex:3}.record-item .text .title[data-v-0a19daf0]{display:block;font-size:%?30?%;color:#303133;font-weight:700;margin-top:%?12?%}.record-item .num[data-v-0a19daf0]{flex:1;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.record-item .num .time[data-v-0a19daf0]{margin-bottom:%?12?%;letter-spacing:%?2?%;font-size:%?26?%;color:#606266}.record-item .num .val[data-v-0a19daf0]{font-size:%?32?%;color:#303133;font-weight:700}.record-item .num .tip[data-v-0a19daf0]{font-size:%?26?%;color:#909399;margin:0 %?4?%}.record-item .num .add[data-v-0a19daf0]{font-weight:700;color:#303133}[data-v-0a19daf0] .u-collapse-head{font-weight:700}[data-v-0a19daf0] .uni-calendar__header{border-bottom-color:#f8f8f8}',""]),t.exports=e},"31cd":function(t,e,a){var i=a("62dd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("fa5884b0",i,!0,{sourceMap:!1,shadowMode:!1})},"432d":function(t,e,a){"use strict";a.r(e);var i=a("4500"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},4500:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("5530")),n=a("26cb"),r={data:function(){return{startDate:"",today:"",date:"",summary:{targetArray:[],taskArray:[]},sign:!1}},computed:(0,o.default)({},(0,n.mapGetters)(["userId"])),methods:{initDate:function(t){var e=new Date||t,a=e.getFullYear(),i=e.getMonth()+1,o=e.getDate();return"".concat(a,"-").concat(i>9?i:"0"+i,"-").concat(o>9?o:"0"+o)},change:function(t){this.date=t.fulldate,this.querySummary(this.date)},routeTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"navigateTo";this.$u.route({type:a,url:"pages/".concat(t),params:e})},toSubmit:function(){var t=this;this.$apis.getToDayPlan({userId:this.userId,time:(new Date).getTime()}).then((function(e){var a=e.data;if(200===a.code){var i=a.data.map((function(t,e){var a=t.title,i=t.planId,o=t.type,n=t.node,r=t.startTime,s=t.endTime,d=t.remarks,l=t.address;return{title:a,planId:i,type:o,node:n,startTime:r,endTime:s,remarks:d,address:l,checked:!1}}));t.routeTo("summary/submit",{taskArray:JSON.stringify(i),date:t.date,edit:0})}})).catch((function(e){t.$refs.uToast.show({title:e,type:"error"})}))},querySummary:function(t){var e=this;this.$apis.querySummary({userId:this.userId,date:t}).then((function(t){var a=t.data;200===a.code?(e.sign=a.data.sign,a.data.sign&&(e.summary=a.data,e.$nextTick((function(){e.$refs.taskColl.init(),e.$refs.targetColl.init()})))):e.$refs.uToast.show({title:a.message})})).catch((function(t){console.log(t),e.$refs.uToast.show({title:"服务器开小差了"})}))},getStartDate:function(){var t=this;this.$apis.getStartDate({userId:this.userId}).then((function(e){var a=e.data;200===a.code?t.startDate=a.data.startDate:t.$refs.uToast.show({title:a.message})})).catch((function(e){t.$refs.uToast.show({title:"服务器开小差了"})}))}},onLoad:function(t){this.today=this.date=this.initDate(),this.getStartDate()},onShow:function(){this.querySummary(this.date)}};e.default=r},"5aca":function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-tag",props:{type:{type:String,default:"primary"},disabled:{type:[Boolean,String],default:!1},size:{type:String,default:"default"},shape:{type:String,default:"square"},text:{type:[String,Number],default:""},bgColor:{type:String,default:""},color:{type:String,default:""},borderColor:{type:String,default:""},closeColor:{type:String,default:""},index:{type:[Number,String],default:""},mode:{type:String,default:"light"},closeable:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},data:function(){return{}},computed:{customStyle:function(){var t={};return this.color&&(t.color=this.color),this.bgColor&&(t.backgroundColor=this.bgColor),"plain"==this.mode&&this.color&&!this.borderColor?t.borderColor=this.color:t.borderColor=this.borderColor,t},iconStyle:function(){if(this.closeable){var t={};return"mini"==this.size?t.fontSize="20rpx":t.fontSize="22rpx","plain"==this.mode||"light"==this.mode?t.color=this.type:"dark"==this.mode&&(t.color="#ffffff"),this.closeColor&&(t.color=this.closeColor),t}},closeIconColor:function(){return this.closeColor?this.closeColor:this.color?this.color:"dark"==this.mode?"#ffffff":this.type}},methods:{clickTag:function(){this.disabled||this.$emit("click",this.index)},close:function(){this.$emit("close",this.index)}}};e.default=i},"5f24":function(t,e,a){var i=a("2e93");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("0ac2902a",i,!0,{sourceMap:!1,shadowMode:!1})},"62dd":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uView-ui css */\n/* 变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义css */\n/* 颜色 */\n/* 字体大小 */\n/* 投影 */\n/* 内边距 */.u-tag[data-v-7ced654a]{box-sizing:border-box;align-items:center;border-radius:%?6?%;display:inline-block;line-height:1}.u-size-default[data-v-7ced654a]{font-size:%?22?%;padding:%?12?% %?22?%}.u-size-mini[data-v-7ced654a]{font-size:%?20?%;padding:%?6?% %?12?%}.u-mode-light-primary[data-v-7ced654a]{background-color:#ecf5ff;color:#2979ff;border:1px solid #a0cfff}.u-mode-light-success[data-v-7ced654a]{background-color:#dbf1e1;color:#19be6b;border:1px solid #71d5a1}.u-mode-light-error[data-v-7ced654a]{background-color:#fef0f0;color:#fa3534;border:1px solid #fab6b6}.u-mode-light-warning[data-v-7ced654a]{background-color:#fdf6ec;color:#f90;border:1px solid #fcbd71}.u-mode-light-info[data-v-7ced654a]{background-color:#f4f4f5;color:#909399;border:1px solid #c8c9cc}.u-mode-dark-primary[data-v-7ced654a]{background-color:#2979ff;color:#fff}.u-mode-dark-success[data-v-7ced654a]{background-color:#19be6b;color:#fff}.u-mode-dark-error[data-v-7ced654a]{background-color:#fa3534;color:#fff}.u-mode-dark-warning[data-v-7ced654a]{background-color:#f90;color:#fff}.u-mode-dark-info[data-v-7ced654a]{background-color:#909399;color:#fff}.u-mode-plain-primary[data-v-7ced654a]{background-color:#fff;color:#2979ff;border:1px solid #2979ff}.u-mode-plain-success[data-v-7ced654a]{background-color:#fff;color:#19be6b;border:1px solid #19be6b}.u-mode-plain-error[data-v-7ced654a]{background-color:#fff;color:#fa3534;border:1px solid #fa3534}.u-mode-plain-warning[data-v-7ced654a]{background-color:#fff;color:#f90;border:1px solid #f90}.u-mode-plain-info[data-v-7ced654a]{background-color:#fff;color:#909399;border:1px solid #909399}.u-disabled[data-v-7ced654a]{opacity:.55}.u-shape-circle[data-v-7ced654a]{border-radius:%?100?%}.u-shape-circleRight[data-v-7ced654a]{border-radius:0 %?100?% %?100?% 0}.u-shape-circleLeft[data-v-7ced654a]{border-radius:%?100?% 0 0 %?100?%}.u-close-icon[data-v-7ced654a]{margin-left:%?14?%;font-size:%?22?%;color:#19be6b}.u-icon-wrap[data-v-7ced654a]{display:inline-flex;-webkit-transform:scale(.86);transform:scale(.86)}',""]),t.exports=e},"87ae":function(t,e,a){"use strict";var i=a("5f24"),o=a.n(i);o.a},8989:function(t,e,a){"use strict";a.r(e);var i=a("2662"),o=a("8dab");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("c64a");var r,s=a("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"794c0444",null,!1,i["a"],r);e["default"]=d.exports},"8dab":function(t,e,a){"use strict";a.r(e);var i=a("eb78"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},a5dc:function(t,e,a){"use strict";a.r(e);var i=a("5aca"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},be85:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uView-ui css */\n/* 变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义css */\n/* 颜色 */\n/* 字体大小 */\n/* 投影 */\n/* 内边距 */.u-section[data-v-794c0444]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.u-section__title[data-v-794c0444]{position:relative;font-size:%?28?%;padding-left:%?20?%;display:flex;flex-direction:row;align-items:center}.u-section__title__icon-wrap[data-v-794c0444]{position:absolute}.u-section__title__text[data-v-794c0444]{line-height:1}.u-section__right-info[data-v-794c0444]{color:#909399;font-size:%?26?%;display:flex;flex-direction:row;align-items:center}.u-section__right-info__icon-arrow[data-v-794c0444]{margin-left:%?6?%}.u-section .yui-text[data-v-794c0444]{font-size:%?26?%;margin-left:%?10?%;color:#909399;font-weight:700}',""]),t.exports=e},c64a:function(t,e,a){"use strict";var i=a("ede6"),o=a.n(i);o.a},d723:function(t,e,a){"use strict";var i=a("31cd"),o=a.n(i);o.a},dc89:function(t,e,a){"use strict";a.r(e);var i=a("22ea"),o=a("432d");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("87ae");var r,s=a("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0a19daf0",null,!1,i["a"],r);e["default"]=d.exports},eb78:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-section",props:{title:{type:String,default:""},info:{type:String,default:""},subTitle:{type:String,default:"更多"},right:{type:Boolean,default:!0},fontSize:{type:[Number,String],default:28},bold:{type:Boolean,default:!0},color:{type:String,default:"#303133"},subColor:{type:String,default:"#909399"},showLine:{type:Boolean,default:!0},lineColor:{type:String,default:""},arrow:{type:Boolean,default:!0}},computed:{lineStyle:function(){return{left:-.9*Number(this.fontSize)+"rpx",top:-Number(this.fontSize)*("ios"==this.$u.os()?.14:.15)+"rpx"}}},methods:{rightClick:function(){this.$emit("click")}}};e.default=i},ede6:function(t,e,a){var i=a("be85");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("23d5be6a",i,!0,{sourceMap:!1,shadowMode:!1})},f057:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uIcon:a("d167").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("v-uni-view",{staticClass:"u-tag",class:[t.disabled?"u-disabled":"","u-size-"+t.size,"u-shape-"+t.shape,"u-mode-"+t.mode+"-"+t.type],style:[t.customStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTag.apply(void 0,arguments)}}},[t._v(t._s(t.text)),a("v-uni-view",{staticClass:"u-icon-wrap",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.closeable?a("u-icon",{staticClass:"u-close-icon",style:[t.iconStyle],attrs:{size:"22",color:t.closeIconColor,name:"close"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}):t._e()],1)],1):t._e()},n=[]}}]);